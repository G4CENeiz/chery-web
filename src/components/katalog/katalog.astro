---
import katalog from '../../data/catalogue.json';
---
<section class="relative py-24 mx-auto max-w-6xl px-6 md:px-10 mt-40">
  <div 
    x-data=`{
      katalog: ${JSON.stringify(katalog.katalog)},
      currentIndex: 0,
      next() { this.currentIndex = (this.currentIndex + 1) % this.katalog.length; },
      prev() { this.currentIndex = (this.currentIndex - 1 + this.katalog.length) % this.katalog.length; }
    }`
    class="text-white text-center"
  >
    <template x-for="(item, index) in katalog" :key="index">
      <div x-show="currentIndex === index" class="transition-all duration-500 ease-in-out">
        <img :src="item.image" :alt="item.model" class="max-h-96 object-contain mb-6 mx-auto" />
        <h2 class="text-3xl font-bold text-red-600 mb-4" x-text="item.model"></h2>
        <div class="flex justify-center space-x-4">
          <div x-html="item.detail.Button.value" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition"></div>
          <button @click="showDetails = !showDetails" class="bg-gray-800 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition">
            Buy Now
          </button>
        </div>
      </div>
    </template>

    <!-- Navigation Controls -->
    <div class="flex justify-between items-center mt-6">
      <button @click="prev()" class="bg-red-600/50 text-white p-2 rounded-full hover:bg-red-700/50">&#10094;</button>
      <button @click="next()" class="bg-red-600/50 text-white p-2 rounded-full hover:bg-red-700/50">&#10095;</button>
    </div>

    <!-- Dots Indicator -->
    <div class="flex justify-center mt-6 space-x-2">
      <template x-for="(item, index) in katalog" :key="index">
        <button 
          @click="currentIndex = index"
          class="w-3 h-3 rounded-full"
          :class="currentIndex === index ? 'bg-red-600' : 'bg-gray-500'"
        ></button>
      </template>
    </div>
  </div>
</section>